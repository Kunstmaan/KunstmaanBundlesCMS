parameters:
    kunstmaan_menu.menu.adaptor.class: Kunstmaan\MenuBundle\Service\MenuAdaptor
    kunstmaan_menu.menu.service.class: Kunstmaan\MenuBundle\Service\MenuService
    kunstmaan_menu.menu.render_service.class: Kunstmaan\MenuBundle\Service\RenderService
    kunstmaan_menu.menu.repository.class: Kunstmaan\MenuBundle\Repository\MenuItemRepository
    kunstmaan_menu.menu.twig.extension.class: Kunstmaan\MenuBundle\Twig\MenuTwigExtension

services:
    Kunstmaan\MenuBundle\Service\MenuAdaptor:
        arguments:
            - '%kunstmaan_menu.menus%'
        tags:
            - { name: kunstmaan_admin.menu.adaptor }

    Kunstmaan\MenuBundle\Service\MenuService:
        arguments:
            - '%kunstmaan_menu.menus%'
            - '@Kunstmaan\AdminBundle\Helper\DomainConfigurationInterface'
            - '@Doctrine\ORM\EntityManagerInterface'
            - '%kunstmaan_menu.entity.menu.class%'

    Kunstmaan\MenuBundle\Service\RenderService:
        arguments:
            - '@Symfony\Component\Routing\RouterInterface'

    Kunstmaan\MenuBundle\Repository\MenuItemRepository:
        factory: ['@Doctrine\ORM\EntityManagerInterface', getRepository]
        arguments:
            - '%kunstmaan_menu.entity.menuitem.class%'

    Kunstmaan\MenuBundle\Twig\MenuTwigExtension:
        arguments:
            - '@Kunstmaan\MenuBundle\Repository\MenuItemRepository'
            - '@Kunstmaan\MenuBundle\Service\RenderService'
        tags:
            - { name: twig.extension }
