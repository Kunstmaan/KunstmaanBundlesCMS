services:
    Kunstmaan\TaggingBundle\Entity\TagManager:
        arguments:
            - '@doctrine.orm.entity_manager'
            - 'Kunstmaan\TaggingBundle\Entity\Tag'
            - 'Kunstmaan\TaggingBundle\Entity\Tagging'

    Kunstmaan\TaggingBundle\EventListener\TagsListener:
        arguments:
            - '@Kunstmaan\TaggingBundle\Entity\TagManager'
        tags:
            - { name: doctrine.event_listener, event: postUpdate }
            - { name: doctrine.event_listener, event: postPersist }
            - { name: doctrine.event_listener, event: postLoad }
            - { name: kernel.event_listener, event: kunstmaan_node.postPersist, method: postNodePersist }
            - { name: kernel.event_listener, event: kunstmaan_pagepart.postPersist, method: postPagePartPersist }

    Kunstmaan\TaggingBundle\EventListener\CloneListener:
        arguments:
            - '@Doctrine\ORM\EntityManagerInterface'
        tags:
            - { name: kernel.event_listener, event: kunstmaan_admin.postDeepCloneAndSave, method: postDeepCloneAndSave }

    Kunstmaan\TaggingBundle\EventListener\IndexNodeEventListener:
        tags:
            - { name: kernel.event_listener, event: kunstmaan_node_search.onIndexNode, method: onIndexNode }

    Kunstmaan\TaggingBundle\Helper\Menu\TagMenuAdaptor:
        tags:
          -  { name: kunstmaan_admin.menu.adaptor }

    Kunstmaan\TaggingBundle\Form\TagsAdminType:
        arguments:
            - '@Kunstmaan\TaggingBundle\Entity\TagManager'
        tags:
            - { name: form.type }
