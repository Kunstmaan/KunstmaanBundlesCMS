UPGRADE FROM 5.6 to 5.7
=======================

General
-------

* We don't enable the templating component by default anymore. If you use the templating component or the `@templating` service, run `composer req symfony/templating` and activate it by enabling the `framework.templating` config in your project.

AdminBundle
------------

* Validator\Constraints\PasswordRestrictions have had their error constant values changed from integer to string uuid's because integers have been deprecated by Symfony.

MediaBundle
------------

* The controller method "KunstmaanMediaBundle_media_bulk_upload_submit" is now POST only.
This call now also requires a mandatory header called "x-upload-token". The content of this header
should be a csrf token generated by the Symfony csrf service using the name "bulk-upload-media".
This header is an added security layer to avoid unintended and malicious uploads.
* Validator\Constraints\Media and Validator\Constraints\HasGuessableExtension have had their error constant values changed from integer to string uuid's because integers have been deprecated by Symfony.
* All code related to the Aviary image editing service is deprecated because the service is discontinued.

NodeBundle
----------

* The method "Kunstmaan\NodeBundle\Repository\NodeTranslationRepository::getNodeTranslationByNodeIdQueryBuilder" is deprecated and will be removed in 6.0. Use the renamed method "Kunstmaan\NodeBundle\Repository\NodeTranslationRepository::getNodeTranslationByNodeId" instead.

NodeSearchBundle
----------------

* The "renderCustomSearchView", "renderDefaultSearchView" and "removeHtml" methods of the "Kunstmaan\NodeSearchBundle\Configuration\NodePagesConfiguration" class are deprecated and will be removed in 6.0. Use the "Kunstmaan\NodeSearchBundle\Services\SearchViewRenderer" service instead.

UserManagementBundle
------------

* Using the deleteAction method from the UsersController is deprecated since KunstmaanUserManagementBundle 5.6 and will be replaced by the method deleteFormAction in KunstmaanUserManagementBundle 6.0. Use the correct method instead. The new action is POST only and will have correct csrf protection.
